<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<!-- saved from url=(0047)http://layout.jquery-dev.net/demos/complex.html -->
<html xmlns="http://www.w3.org/1999/xhtml" style="height: 2000px; overflow-x: visible; overflow-y: visible; "><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="language" content="en">
	<!-- uncomment 'base' to view this page without external files
	<base href="http://jquery-border-layout.googlecode.com/svn/trunk/" />
	-->

	<title>demo aicewe</title>

	<!-- DEMO styles - specific to this page -->
	<link rel="stylesheet" type="text/css" href="../css/complex.css">
	<link rel="stylesheet" type="text/css" href="../js/leaflet/dist/leaflet.css" />
		
	
<link rel="stylesheet" href="../js/jquery.treeview/jquery.treeview.css" />





	<!--[if lte IE 7]>
		<style type="text/css"> body { font-size: 85%; } </style>
	<![endif]-->
<!--     <script>
		L_PREFER_CANVAS = true; // experimental
	</script>-->
	
	<script type="text/javascript" src="../js/leaflet/debug/leaflet-include.js"></script>
	<script type="text/javascript" src="../js/jquery-latest.js"></script>
	<script type="text/javascript" src="../js/jquery-ui-latest.js"></script>
	<script type="text/javascript" src="../js/jquery.layout-latest.js"></script>
	<script type="text/javascript" src="../js/treelist.js"></script>
	<!--<script type="text/javascript" src="../js/complex.js"></script>-->
     <script src="../js/jquery.treeview/lib/jquery.cookie.js" type="text/javascript"></script>
<script src="../js/jquery.treeview/jquery.treeview.js" type="text/javascript"></script>
	 
	<script src="../media/lilao/aws_point.js" type="text/javascript"></script>
	<script src="../media/lilao/lilao_poly.js" type="text/javascript"></script>

<script type="text/javascript">
/*
 * complex.html
 *
 * This is a demonstration page for the jQuery layout widget
 *
 *	NOTE: For best code readability, view this with a fixed-space font and tabs equal to 4-chars
 */
    var map = null;
	var outerLayout, innerLayout;
	var lilaojsonLayer = new L.GeoJSON();
	var aws5layer = new L.GeoJSON();
    var IsSee = [1,1]
	var CurLayer = [lilaojsonLayer,aws5layer]
	var CurOpacity = 1.0
	/*
	*#######################
	*     ON PAGE LOAD
	*#######################
	*/
	function setopacity(lilaojsonLayer){
	    CurOpacity =  CurOpacity - 0.1
		if (CurOpacity<0.1){ CurOpacity=0.1}
		//alert("fillOpacity="+CurOpacity)
	    map.removeLayer(lilaojsonLayer)
		lilaojsonLayer= new L.GeoJSON();
	    lilaojsonLayer.on("featureparse", function (e) {
		    
		    var popupContent = "";
		    
		    if (e.properties && e.properties.popupContent ) {
		        popupContent += '<p>:'+e.properties.fid+' :'+e.properties.stype+'</p>'+'<p>'+e.properties.rain['01H']+''+'</p>'+'<p>'+e.properties.rain['02H']+''+'</p>'+'<p>'+e.properties.rain['03H']+''+'</p>';
		    }
			
		   
		    e.layer.bindPopup(popupContent);
		    if (e.properties && e.properties.style && e.layer.setStyle) {
		        e.layer.setStyle(e.properties.style);  
				e.layer.setStyle({"fillOpacity": CurOpacity,"Opacity": CurOpacity});
		    }
		});
		
		lilaojsonLayer.addGeoJSON(lilao_poly)
		
		//alert(lilaojsonLayer._layers.length)
		map.addLayer(lilaojsonLayer)
	
	}
	
	
	function AddAws5Feature(map){
	
	   var BaseballIcon = L.Icon.extend({
			iconUrl: 'images/marker.png',
			shadowUrl: null,
			iconSize: new L.Point(32, 37),
			shadowSize: null,
			iconAnchor: new L.Point(14, 37),
			popupAnchor: new L.Point(2, -32)
		});
		    
	   aws5layer = new L.GeoJSON(aws_point, {
		    pointToLayer: function (latlng) {

               return new L.CircleMarker(latlng);
             }
		});
		   aws5layer.on("featureparse", function (e) {
		    
		    var popupContent = "kjhkjhkj";
		    if (e.geometryType == "Point") {
		        popupContent += "";
		    }
		    if (e.properties && e.properties.type ) {
		        popupContent += '<p>站点：'+e.properties.stion_id+'</p>';
				
		    }
		    e.layer.bindPopup(popupContent);
			//alert(e.layer.getContent(popupContent));
			
		    if (e.properties && e.properties.style && e.layer.setStyle) {
		        e.layer.setStyle(e.properties.style);
		    }
		});
		aws5layer.addGeoJSON(aws_point)
		map.addLayer(aws5layer)
		//map.removeLayer(aws5layer)
	}
	////////////////////
	function AddLilaoFeature(map){
	
	    //lilaojsonLayer = L.GeoJSON.geoJSONToLayer(lilao_poly)
	    lilaojsonLayer.on("featureparse", function (e) {
		    
		    var popupContent = "";
		    
		    if (e.properties && e.properties.popupContent ) {
		        popupContent += '<p>:'+e.properties.fid+' :'+e.properties.stype+'</p>'+'<p>'+e.properties.rain['01H']+''+'</p>'+'<p>'+e.properties.rain['02H']+''+'</p>'+'<p>'+e.properties.rain['03H']+''+'</p>';
				
			//$('#attrs').append("<p><span>�������"+e.properties.fid+"</span><p>"+"<p><span>��������"+e.properties.stype+"</span><p>");
		    }
			//e.layer.on("click", function (e){alert(e.geometry)});
           // e.layer.on("mouseover", function (e){$("#position").html(String(e.latlng))});
		   
		    e.layer.bindPopup(popupContent);
		    if (e.properties && e.properties.style && e.layer.setStyle) {
		        e.layer.setStyle(e.properties.style);
				e.layer.setStyle({"fillOpacity":0.4});
		    }
		});
		
		lilaojsonLayer.addGeoJSON(lilao_poly)
		
		//alert(lilaojsonLayer._layers.length)
		map.addLayer(lilaojsonLayer)
		
	
	  //  
//	   	for (var i = 0; i < 20; i++) {
//			for (var j = 0; j < 20; j++) {
//			
//			var circleLocationnew = new L.LatLng(j*0.01+39.7, i*0.01+116.3)
//			var circlenew = new L.Circle(circleLocationnew, 50,{ color: 'red'})
//			
//			map.addLayer(circlenew);
//			circlenew.bindPopup('I am a circle');
//		}
//		}
	}
	 
	 
	 function togger_layer(map,index){
	      alert(index)
	     if(IsSee[index] ==1){IsSee[index]=0}else{IsSee[index]=1} 
		 alert(IsSee)
		for(var i=0;i<CurLayer.length;i++){
		alert('remove'+i)
		   map.removeLayer(CurLayer[i])
		   }
		   
		//for(var i=0;i<CurLayer.length;i++){
//		   if(IsSee[i] == 1){map.addLayer(CurLayer[i])}
//		   }
		}
	
	$(function() {
		// create the OUTER LAYOUT
		config_tree()



       var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png',
			cloudmade = new L.TileLayer(cloudmadeUrl, {maxZoom: 18});
		map = new L.Map('map', {layers: [cloudmade]});
		map.setView(new L.LatLng(39.89, 116.4), 12)
		
		AddLilaoFeature(map)
		AddAws5Feature(map)
	     //lilaojsonLayer = new L.GeoJSON();
		 
		
	});



	
	
	

</script>

</head>
<body class="ui-layout-container" >



<div class="ui-layout-west pane pane-west">

<span id="west-closer" class="button-close button-close-west" style=" overflow:auto" title="Close"></span>
<span class="pin-button button-pin button-pin-west button-pin-up button-pin-west-up" pin="up" title="Pin"></span>

	<div class="header" style="font-size:16px" >图层控制</div>

	
<div id="sidetree">


<ul id="tree">
    <li><button class="seeimg"></button><span><strong>实况监测</strong></span>
	  <ul>
	    <li><button  class="seeimg"></button><span><strong>卫星图像</strong></span>
	      <ul>
		    <li><a href="?/assessment/index.cfm">红外通道</a></li>
		    <li><a href="?/assessment/index.cfm">水汽通道</a></li>
		    <li><a href="?/assessment/index.cfm">可见光通道</a></li>
	      </ul>
	    </li>

	    <li><button class="seeimg"></button><span><strong>雷达图像</strong></span></li>
	    <li><button  class="seeimg"></button><span><strong>自动站</strong></span>
	      <ul>
		     <li><a href="?/assessment/index.cfm">整点雨量</a></li>
		     <li><div style="height:40px; width:100px; background:#999999">
		 	     <input type="checkbox" value="温度"/>
		      </div>
			 </li>
		     <li>最近1小时累计雨量</li>
		     <li>最近2小时累计雨量</li>
		     <li>最近3小时累计雨量</li>
	      </ul>
	    </li>
       </ul>
     </li>
	 


     <li><button  class="seeimg"></button><span><strong>天气预报</strong></span>
	  <ul>
	    <li><button class="seeimg"></button><span><strong>0-48h预报</strong></span></li>

	    <li><button class="seeimg"></button><span><strong>雷达图像</strong></span></li>
	    <li><button class="seeimg" onclick="togger_layer(map,1)"></button><span><strong>自动站</strong></span>
	      <ul>
		     <li><a href="?/assessment/index.cfm">整点雨量</a></li>
		     <li><div style="height:40px; width:100px; background:#999999">
		 	     <input type="checkbox" value="温度"/>
		      </div>
			 </li>
		     <li>最近1小时累计雨量</li>
		     <li>最近2小时累计雨量</li>
		     <li>最近3小时累计雨量</li>
	      </ul>
	    </li>
       </ul>
     </li>
	 
    <li><button class="seeimg"></button><span><strong>灾情模拟</strong></span>
	  <ul>
	    <li><button class="seeimg" onclick="togger_layer(map,0)"></button><span><strong>城市积水</strong></span></li>

	    <li><button  class="seeimg"></button><span><strong>水文模拟</strong></span></li>
	    <li><button class="seeimg"></button><span><strong>道路积冰、积雪</strong></span></li>
		<li><button class="seeimg"></button><span><strong>持续高温、低温</strong></span></li>
       </ul>
     </li>

</div>

</div>

	
	</div>

	<div class="footer">Automatically positioned footer</div>

</div>

<div class="ui-layout-east pane pane-east" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; left: auto; z-index: 1; right: 0px; width: 248px; top: 122px; bottom: 0px; height: 461px; position: absolute; visibility: visible; display: none; "><span id="east-closer" class="button-close button-close-east" title="Close"></span><span class="pin-button button-pin button-pin-east button-pin-up button-pin-east-up" pin="up" title="Pin"></span>

	<div class="header">Outer - East</div>

	<div class="subhead">I'm a subheader</div>

	<div class="content" style="position: relative; ">
		<h3><b>Inner Layout</b></h3>
		<ul id="createInner">
			<li><a href="http://layout.jquery-dev.net/demos/complex.html#" onclick="createInnerLayout(); return false;">CREATE Inner Layout</a></li>
		</ul>
		
	</div>

	<div class="footer" >I'm a footer</div>
	<div class="footer">I'm another footer</div>
	<div class="footer">Unlimited headers &amp; footers</div>

</div>


<div class="ui-layout-north pane pane-north" style="position: absolute; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; bottom: auto; width: auto; z-index: 1; top: 0px; left: 0px; right: 0px; height: 120px; display: block; visibility: visible; ">
	
	<div class="content" style="position: relative; ">
		<span style="float:left">ACIEWE</span><span style="float:right; font-size:14px">登录</span>
	</div>
	<div class="content" style="position: relative; background-color:#f4f4f4;  height:20px ">
		<button>首页</button><button>首页</button><button>首页</button><button>首页</button><button>首页</button>
		 <button onClick="map.removeLayer(lilaojsonLayer)">remove</button>
	 <button onClick="map.addLayer(lilaojsonLayer)">add</button>
	  <button onClick="map.removeLayer(aws5layer)">remove_aws</button>
	 <button onClick="map.addLayer(aws5layer)">add_aws</button>
	 <button onClick="setopacity(lilaojsonLayer)">setopacity_lilao</button>
	</div>
	
</div>


<div class="ui-layout-south pane pane-south" style="position: absolute; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; top: auto; width: auto; z-index: 1; bottom: 0px; left: 0px; right: 0px; height: 109px; display: none; visibility: visible; ">
	<div class="header">Outer - South</div>
	<div class="content" style="position: relative; height:600px; background:#999999 ">
		<p>I only have a resizer/toggler when 'open'</p>
		<p>I only have a resizer/toggler when 'open'</p>
		<p>I only have a resizer/toggler when 'open'</p>
		<p>I only have a resizer/toggler when 'open'</p>
		<p>I only have a resizer/toggler when 'open'</p>
		<p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p><p>I only have a resizer/toggler when 'open'</p>
	</div>
</div>


<div id="mainContent" style="position: absolute; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; z-index: 1; top: 122px; bottom: 0px; left: 21px; right: 21px; width: 1292px; height: 431px; display: block; visibility: visible; " class="pane pane-center pane-hover pane-center-hover pane-open-hover pane-center-open-hover">

<div id="logo" style="width:100%; height:30px; background:#33CC99"></div>
<div id="map" style="width: 100%; height: 600px; border: 1px solid #ccc; overflow:hidden"></div>
</div>

<script type="text/javascript">

		
      	
		
		

$("#tree").treeview({
				collapsed: true,
				animated: "medium",
				control:"#sidetreecontrol",
				persist: "location"
			});
</script>

 </body></html>